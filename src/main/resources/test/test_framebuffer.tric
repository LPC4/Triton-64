func main() {
    var fb_start = 0x20220000
    var fb_size  = 307200
    var bpp = 4 ; bytes per pixel
    var width = 320

    var red = 0xFFFF0000 ; AARRGGBB
    var blue = 0xFF0000FF
    var tile_size = 16

    var offset = fb_start
    var index = 0

    while (1) {
        offset = fb_start
        index = 0

        while (offset < fb_start + fb_size) {
            var x = index
            var y = 0

            ; compute y = index / width
            while (x >= width) {
                x = x - width
                y = y + 1
            }

            ; tile_x = x / tile_size
            var tile_x = x
            var t_x = 0
            while (tile_x >= tile_size) {
                tile_x = tile_x - tile_size
                t_x = t_x + 1
            }

            ; tile_y = y / tile_size
            var tile_y = y
            var t_y = 0
            while (tile_y >= tile_size) {
                tile_y = tile_y - tile_size
                t_y = t_y + 1
            }

            ; tile_color = (t_x + t_y) even ? red : blue
            var sum = t_x + t_y

            var temp = sum
            while (temp >= 2) {
                temp = temp - 2
            }

            if (temp == 0) {
                @offset = red
            }
            if (temp == 1) {
                @offset = blue
            }

            index = index + 1
            offset = offset + bpp
        }
    }

    return
}
